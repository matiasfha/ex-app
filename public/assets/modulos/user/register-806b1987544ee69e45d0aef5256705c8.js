(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};namespace("Dandoo.User").Register=function(t){function r(){return this.render=e(this.render,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.el=$("#empresas"),r.prototype.events={"focus .error":"removeError","click #go_paso2":"checkPaso1","keypress #recaptcha_response_field":"submitForm","change #file":"previewAvatar"},r.prototype.initialize=function(){return this.render()},r.prototype.removeError=function(e){return $(e.currentTarget).removeClass("error")},r.prototype.submitForm=function(e){if(e.which===13)return $("#new_user").submit()},r.prototype.render=function(){var e;return $(".numeric").numeric(),$(".date").datepicker({firstDay:1,monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi√©rcoles","Jueves","Viernes","Sabado"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],dayNamesShort:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],dateFormat:"dd/mm/yy"}),$("div.mensajes").delay(2e3).fadeOut(),e=$("<img>").attr("src",$("#user_avatar_tmp").val()),e.load(function(){return $("div.field.imagen .cont").html(e)})},r.prototype.checkPaso1=function(e){var t,n,r,i,s;t=!1,r=$('#paso1 :text[value=""],#paso1 :password[value=""]');if(r.length>0){t=!0;for(i=0,s=r.length;i<s;i++)n=r[i],$(n).addClass("error")}return t||($("#recaptcha_modal").fadeIn(),$("#recaptcha_response_field").focus()),!1},r.prototype.previewAvatar=function(e){var t;return t=FileAPI.getFiles($("#file")),t=t[0],FileAPI.readAsDataURL(t,function(e){var t,n,r,i;switch(e.type){case"load":return i=$("<div></div>").css({position:"absolute",left:"-999999px",width:"400px",height:"600px"}).appendTo($("body")),r=1,n=1,t=$("<img>"),t.attr("src",e.result).load(function(e){var t;return t=$(this),$(this).appendTo(i),$(this).imagesLoaded(function(){var e,s;return r=t.width(),n=t.height(),i.remove(),s=50,e=50,r>n?r>s&&(n*=s/r,r=s):n>e&&(r*=e/n,n=e),t.attr("width",r),t.attr("height",n),$("div.field.imagen .cont").html(t),$("#user_avatar_tmp").val($("#file").val())})})}})},r}(Backbone.View)}).call(this);